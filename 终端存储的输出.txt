Last login: Wed Jul 30 10:22:02 on ttys049
/Users/jabez/.zprofile:6: no such file or directory: /opt/homebrew/bin/brew
jabez@192 ~ % cd multiAgent 
jabez@192 multiAgent % python test_memory_system.py 
🚀 开始Memory系统第一阶段测试
============================================================
🧠 初始化Memory系统...
✅ 执行日志管理器初始化完成
🎉 Memory系统初始化完成
🧪 测试执行日志管理器...
/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/torch/nn/modules/module.py:1762: FutureWarning: `encoder_attention_mask` is deprecated and will be removed in version 4.55.0 for `BertSdpaSelfAttention.forward`.
  return forward_call(*args, **kwargs)
📝 记录执行日志: UnitTestAgent - 成功
📝 记录执行日志: RefactoringAgent - 失败
✅ 执行记录已保存

🔍 测试检索功能...
❌ 测试过程中出现错误: 'tuple' object has no attribute 'metadata'
Traceback (most recent call last):
  File "/Users/jabez/Nutstore Files/multiAgent/test_memory_system.py", line 224, in main
    await test_execution_log_manager()
  File "/Users/jabez/Nutstore Files/multiAgent/test_memory_system.py", line 68, in test_execution_log_manager
    success_patterns = await execution_log_manager.get_agent_success_patterns("UnitTestAgent")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jabez/Nutstore Files/multiAgent/src/memory/base_memory_manager.py", line 108, in get_agent_success_patterns
    return await self.get_similar_executions(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/jabez/Nutstore Files/multiAgent/src/memory/base_memory_manager.py", line 102, in get_similar_executions
    results = [r for r in results if r.metadata.get("success", False)]
                                     ^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'metadata'
🧹 清理Memory系统资源...
✅ Memory系统资源清理完成

🧹 测试资源清理完成
jabez@192 multiAgent % 
